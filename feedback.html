<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>üí¨ Spieler Reflexion</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" href="ehcb-icon.png" type="image/png" />
  <style>
    :root {
      --ehc-blue: #002b5c;
      --ehc-yellow: #ffe16b;
      --ehc-red: #d0021b;
      --ehc-white: #fff;
      --ehc-shadow: 0 10px 40px #00183e44;
    }
    html, body {
      margin: 0; padding: 0;
      background: var(--ehc-blue);
      min-height: 100vh;
      font-family: 'Arial Rounded MT Bold', Arial, sans-serif;
    }
    /* Einheitlicher Zur√ºck-Button oben links */
    .top-bar {
      display: flex;
      justify-content: flex-start;
      align-items: center;
      margin-top: 18px;
      margin-left: 18px;
    }
    .back-link {
      display: inline-block;
      font-size: 1.08rem;
      color: var(--ehc-yellow);
      text-decoration: none;
      font-weight: bold;
      background: #002b5c;
      padding: 8px 18px;
      border-radius: 9px;
      border: 2px solid #ffd600;
      transition: background .18s, color .18s;
      text-align: left;
    }
    .back-link:hover {
      background: #ffd600;
      color: #002b5c;
    }
    header {
      text-align: center;
      padding: 32px 0 18px 0;
    }
    .logo {
      height: 120px;
      margin: 0 auto 30px auto;
      display: block;
    }
    h1 {
      font-size: 2.2rem;
      font-weight: 800;
      margin: 0 0 14px 0;
      letter-spacing: 2px;
      color: var(--ehc-white);
    }
    .lang-switcher {
      margin-top: 12px; 
      margin-bottom: 8px; 
      display: flex; 
      gap: 10px; 
      justify-content: center;
    }
    .lang-btn {
      background: #fff; 
      color: #002b5c; 
      border: none; 
      border-radius: 8px; 
      padding: 7px 18px;
      font-weight: bold; 
      font-size: 1rem; 
      cursor: pointer; 
      box-shadow: 0 1px 8px #2222;
      transition: background 0.18s;
    }
    .lang-btn.active, .lang-btn:focus {
      background: #FFD600; 
      color: #002b5c;
    }
    @media (max-width: 600px) {
      .lang-btn { font-size: 1rem; padding: 6px 10px; }
      .lang-switcher { gap: 7px; }
    }
    @media (max-width: 600px) {
      .lang-switch button {
        font-size: 1.01rem;
        padding: 7px 18px 4px 18px;
      }
    }
    .main-content {
      max-width: 500px; margin: 38px auto 0 auto; padding: 0 10px;
    }
    .card {
      background: var(--ehc-blue);
      color: var(--ehc-white);
      border-radius: 30px;
      margin: 0 auto;
      box-shadow: var(--ehc-shadow);
      padding: 42px 32px 32px 32px;
      display: flex;
      flex-direction: column;
      gap: 13px;
      border: 3px solid var(--ehc-yellow);
    }
    .card h2 {
      font-size: 1.7rem;
      text-align: center;
      margin-bottom: 18px;
      font-weight: 800;
      color: var(--ehc-yellow);
    }
    label { font-weight:700; margin:7px 0 3px 0; color:var(--ehc-yellow);}
    input, select, textarea {
      width: 100%;
      max-width: 100%;
      font-size: 1.12rem;
      border-radius: 9px; border: 1.6px solid #bbb;
      padding: 7px 10px; margin: 3px 0 9px 0; background: #fff9;
      color: #002b5c;
      font-family: inherit;
      font-weight:600;
      box-sizing: border-box;
    }
    #name, #comment {
      width: 100%;
      max-width: 100%;
      box-sizing: border-box;
    }
    button[type="submit"] {
      background: var(--ehc-red); color: var(--ehc-white); border: none;
      border-radius: 14px; font-weight: 800; font-size: 1.22rem;
      padding: 13px 0; margin-top: 16px; cursor: pointer; transition: background 0.18s;
      box-shadow: 0 2px 7px #0002;
      width: 100%;
      max-width: 100%;
    }
    button[type="submit"]:hover { background: #af0116;}
    #message.success { color: #3bbb2c; font-weight:700; margin-top:12px;}
    #message.error   { color: #b00; font-weight:700; margin-top:12px;}
    .yellow-slogan {
      color: var(--ehc-yellow);
      text-align: center;
      margin: 44px 0 0 0;
      font-size: 1.27rem;
      font-weight: 800;
      letter-spacing: 1.3px;
    }
    footer {
      margin-top: 65px;
      background: var(--ehc-blue);
      color: #ffe16b;
      text-align: center;
      padding: 13px 0 10px 0;
      font-size: 1.04rem;
      opacity: 0.87;
      border-top: 2px solid var(--ehc-red);
    }
    @media (max-width: 600px) {
      .header-flex { flex-direction: column; gap: 7px;}
      .main-content { padding: 0 4px;}
      .card { font-size: 1.03rem; padding: 19px 5px 16px 5px;}
      .logo {
        height: 100px; /* <-- Wert angepasst */
        margin-bottom: 18px;
      }
    }
  </style>
</head>
<body>
  <div class="top-bar">
    <a class="back-link" href="index.html" id="backBtn">‚Üê Zur√ºck / Back</a>
  </div>
  <header>
    <img src="wikinger.png" class="logo" alt="Logo" />
    <h1 id="main-title">EHC BIEL-BIENNE U18-ELIT</h1>
    <div class="lang-switcher">
      <button class="lang-btn" id="btn-de">DE</button>
      <button class="lang-btn" id="btn-fr">FR</button>
      <button class="lang-btn" id="btn-en">EN</button>
    </div>
  </header>
  <div class="main-content">
    <form id="feedbackForm" class="card">
      <h2 id="formTitle">üí¨ Spieler Reflexion</h2>
      <label for="name" id="labelName">Name *</label>
      <input type="text" id="name" name="name" required />

      <label for="feeling" id="labelFeeling">üß† Wie hast du dich gef√ºhlt?</label>
      <select id="feeling" name="feeling" required></select>

      <label for="energy" id="labelEnergy">‚ö°Ô∏è Energie-Level (1 = sehr m√ºde ‚Äì 10 = voller Power)</label>
      <select id="energy" name="energy" required></select>

      <label for="intensity" id="labelIntensity">üèãÔ∏è Intensit√§t Training/Spiel <small>(1 = locker ‚Äì 10 = top)</small></label>
      <select id="intensity" name="intensity" required></select>

      <label for="performance" id="labelPerformance">üéØ Eigene Leistung <small>(1 = ausbauf√§hig ‚Äì 10 = top)</small></label>
      <select id="performance" name="performance" required></select>

      <label for="comment" id="labelComment">üìù Kommentar <small>(optional)</small></label>
      <textarea id="comment" name="comment" rows="2"></textarea>

      <button type="submit" id="submitBtn">Abschicken</button>
      <div id="message"></div>
    </form>
  </div>
  <section class="yellow-slogan" id="slogan">
    "OUR STRENGTH IS OUR UNITY!"
  </section>
  <footer>
    ¬© 2025 EHC Biel-Bienne U18-Elit
  </footer>
  <script>
    // Sprachdaten:
    const translations = {
      de: {
        formTitle:"Spieler Reflexion",
        name:"Name *",
        feeling:"Wie hast du dich gef√ºhlt?",
        feelingOptions: [
          {value:"üü¢ Top", text:"üü¢ Top"},
          {value:"üü° Okay", text:"üü° Okay"},
          {value:"üî¥ Tired", text:"üî¥ M√ºde"}
        ],
        energy:"‚ö°Ô∏è Energie-Level",
        energyOptions: [
          {value:"1", text:"1 ‚Äì üò¥ sehr m√ºde"},
          {value:"2", text:"2"},
          {value:"3", text:"3"},
          {value:"4", text:"4"},
          {value:"5", text:"5"},
          {value:"6", text:"6"},
          {value:"7", text:"7"},
          {value:"8", text:"8"},
          {value:"9", text:"9"},
          {value:"10", text:"10 ‚Äì ‚ö°Ô∏è voller Power"}
        ],
        intensity:"üèãÔ∏è Intensit√§t Training/Spiel",
        intensityOptions: [
          {value:"1", text:"1 ‚Äì sehr locker"},
          {value:"2", text:"2"},
          {value:"3", text:"3"},
          {value:"4", text:"4"},
          {value:"5", text:"5 ‚Äì mittel"},
          {value:"6", text:"6"},
          {value:"7", text:"7"},
          {value:"8", text:"8"},
          {value:"9", text:"9"},
          {value:"10", text:"10 ‚Äì maximal"}
        ],
        performance:"üéØ Eigene Leistung",
        performanceOptions: [
          {value:"1", text:"1 ‚Äì ausbauf√§hig"},
          {value:"2", text:"2 ‚Äì m√§ssig"},
          {value:"3", text:"3 ‚Äì okay"},
          {value:"4", text:"4 ‚Äì solide"},
          {value:"5", text:"5 ‚Äì gut"},
          {value:"6", text:"6 ‚Äì sehr gut"},
          {value:"7", text:"7 ‚Äì stark"},
          {value:"8", text:"8 ‚Äì super"},
          {value:"9", text:"9 ‚Äì fast optimal"},
          {value:"10", text:"10 ‚Äì top"}
        ],
        comment:"üìù Kommentar <small>(optional)</small>",
        submit:"Abschicken",
        msg_success:'‚úÖ Feedback √ºbermittelt!',
        msg_error:'‚ùå Verbindung fehlgeschlagen.',
        slogan:'"OUR STRENGTH IS OUR UNITY!"'
      },
      en: {
        formTitle:"Player Reflection",
        name:"Name *",
        feeling:"How did you feel today?",
        feelingOptions: [
          {value:"üü¢ Top", text:"üü¢ Top"},
          {value:"üü° Okay", text:"üü° Okay"},
          {value:"üî¥ Tired", text:"üî¥ Tired"}
        ],
        energy:"‚ö°Ô∏è Energy level",
        energyOptions: [
          {value:"1", text:"1 ‚Äì üò¥ very tired"},
          {value:"2", text:"2"},
          {value:"3", text:"3"},
          {value:"4", text:"4"},
          {value:"5", text:"5"},
          {value:"6", text:"6"},
          {value:"7", text:"7"},
          {value:"8", text:"8"},
          {value:"9", text:"9"},
          {value:"10", text:"10 ‚Äì ‚ö°Ô∏è full power"}
        ],
        intensity:"üèãÔ∏è Training/Game Intensity",
        intensityOptions: [
          {value:"1", text:"1 ‚Äì very easy"},
          {value:"2", text:"2"},
          {value:"3", text:"3"},
          {value:"4", text:"4"},
          {value:"5", text:"5 ‚Äì medium"},
          {value:"6", text:"6"},
          {value:"7", text:"7"},
          {value:"8", text:"8"},
          {value:"9", text:"9"},
          {value:"10", text:"10 ‚Äì maximal"}
        ],
        performance:"üéØ Own Performance",
        performanceOptions: [
          {value:"1", text:"1 ‚Äì needs work"},
          {value:"2", text:"2 ‚Äì fair"},
          {value:"3", text:"3 ‚Äì okay"},
          {value:"4", text:"4 ‚Äì solid"},
          {value:"5", text:"5 ‚Äì good"},
          {value:"6", text:"6 ‚Äì very good"},
          {value:"7", text:"7 ‚Äì strong"},
          {value:"8", text:"8 ‚Äì super"},
          {value:"9", text:"9 ‚Äì almost perfect"},
          {value:"10", text:"10 ‚Äì top"}
        ],
        comment:"üìù Comment <small>(optional)</small>",
        submit:"Submit",
        msg_success:'‚úÖ Feedback submitted!',
        msg_error:'‚ùå Connection failed. Please try again.',
        slogan:'"OUR STRENGTH IS OUR UNITY!"'
      },
      fr: {
        formTitle:"R√©flexion Joueur",
        name:"Nom *",
        feeling:"Comment t'es-tu senti aujourd'hui ?",
        feelingOptions: [
          {value:"üü¢ Top", text:"üü¢ Top"},
          {value:"üü° Okay", text:"üü° Bien"},
          {value:"üî¥ Tired", text:"üî¥ Fatigu√©"}
        ],
        energy:"‚ö°Ô∏è Niveau d'√©nergie",
        energyOptions: [
          {value:"1", text:"1 ‚Äì üò¥ tr√®s fatigu√©"},
          {value:"2", text:"2"},
          {value:"3", text:"3"},
          {value:"4", text:"4"},
          {value:"5", text:"5"},
          {value:"6", text:"6"},
          {value:"7", text:"7"},
          {value:"8", text:"8"},
          {value:"9", text:"9"},
          {value:"10", text:"10 ‚Äì ‚ö°Ô∏è plein d'√©nergie"}
        ],
        intensity:"üèãÔ∏è Intensit√© Entra√Ænement/Match",
        intensityOptions: [
          {value:"1", text:"1 ‚Äì tr√®s facile"},
          {value:"2", text:"2"},
          {value:"3", text:"3"},
          {value:"4", text:"4"},
          {value:"5", text:"5 ‚Äì moyen"},
          {value:"6", text:"6"},
          {value:"7", text:"7"},
          {value:"8", text:"8"},
          {value:"9", text:"9"},
          {value:"10", text:"10 ‚Äì maximale"}
        ],
        performance:"üéØ Performance personnelle",
        performanceOptions: [
          {value:"1", text:"1 ‚Äì √† am√©liorer"},
          {value:"2", text:"2 ‚Äì passable"},
          {value:"3", text:"3 ‚Äì ok"},
          {value:"4", text:"4 ‚Äì solide"},
          {value:"5", text:"5 ‚Äì bien"},
          {value:"6", text:"6 ‚Äì tr√®s bien"},
          {value:"7", text:"7 ‚Äì fort"},
          {value:"8", text:"8 ‚Äì super"},
          {value:"9", text:"9 ‚Äì presque parfait"},
          {value:"10", text:"10 ‚Äì top"}
        ],
        comment:"üìù Commentaire <small>(optionnel)</small>",
        submit:"Envoyer",
        msg_success:'‚úÖ Feedback envoy√©!',
        msg_error:'‚ùå Connexion √©chou√©e.',
        slogan:'"NOTRE FORCE EST NOTRE UNIT√â !"'
      }
    };

    let currentLang = localStorage.getItem('feedback_lang') || 'de';

    function changeLanguage(lang) {
      currentLang = lang;
      localStorage.setItem('feedback_lang', lang);
      document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
      document.getElementById('btn-' + lang).classList.add('active');
      const t = translations[lang];

      document.getElementById('formTitle').textContent = t.formTitle;
      document.getElementById('labelName').textContent = t.name;
      document.getElementById('labelFeeling').textContent = (t.feelingIcon || "üß†") + " " + t.feeling;

      const selFeeling = document.getElementById('feeling');
      selFeeling.innerHTML = "";
      t.feelingOptions.forEach(opt => {
        const o = document.createElement('option');
        o.value = opt.value;
        o.textContent = opt.text;
        selFeeling.appendChild(o);
      });

      document.getElementById('labelEnergy').innerHTML = t.energy;
      const selEnergy = document.getElementById('energy');
      selEnergy.innerHTML = "";
      t.energyOptions.forEach(opt => {
        const o = document.createElement('option');
        o.value = opt.value;
        o.textContent = opt.text;
        selEnergy.appendChild(o);
      });

      document.getElementById('labelIntensity').innerHTML = t.intensity;
      const selIntensity = document.getElementById('intensity');
      selIntensity.innerHTML = "";
      t.intensityOptions.forEach(opt => {
        const o = document.createElement('option');
        o.value = opt.value;
        o.textContent = opt.text;
        selIntensity.appendChild(o);
      });

      document.getElementById('labelPerformance').innerHTML = t.performance;
      const selPerformance = document.getElementById('performance');
      selPerformance.innerHTML = "";
      t.performanceOptions.forEach(opt => {
        const o = document.createElement('option');
        o.value = opt.value;
        o.textContent = opt.text;
        selPerformance.appendChild(o);
      });

      document.getElementById('labelComment').innerHTML = t.comment;
      document.getElementById('submitBtn').textContent = t.submit;
      document.getElementById('slogan').textContent = t.slogan;
    }
    window.addEventListener('DOMContentLoaded', () => {
      // Set up language button click events
      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const lang = this.id.replace('btn-', '');
          changeLanguage(lang);
        });
      });
      changeLanguage(currentLang);
    });

    const form = document.getElementById('feedbackForm');
    const message = document.getElementById('message');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      message.textContent = '';
      const t = translations[currentLang];
      const data = {
        name: form.name.value,
        feeling: form.feeling.value,
        energy: form.energy.value,
        intensity: form.intensity.value,
        performance: form.performance.value,
        comment: form.comment.value
      };
      try {
        await fetch('https://script.google.com/macros/s/AKfycbwL1IwFze4LFJ5vllA-s7MpnG_PTSJUMXTI-BV5Q0d54tjrscXx710xr672w3t0-ikPmw/exec', {
          method: 'POST',
          mode: 'no-cors',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });
        message.className = "success";
        message.textContent = t.msg_success;
        form.reset();
      } catch (err) {
        message.className = "error";
        message.textContent = t.msg_error;
      }
    });
  </script>
</body>
</html>