<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ’¬ Spieler Reflexion</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" href="ehcb-icon.png" type="image/png" />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <a class="back-btn" href="index.html" id="backBtn">â† Back</a>
  <header>
    <img src="wikinger.png" class="logo" alt="Logo" />
    <h1 id="main-title">EHC BIEL-BIENNE U18-ELIT</h1>
    <div class="lang-switcher">
      <button class="lang-btn" id="btn-de">DE</button>
      <button class="lang-btn" id="btn-fr">FR</button>
      <button class="lang-btn" id="btn-en">EN</button>
    </div>
  </header>
  <div class="main-content">
    <form id="feedbackForm" class="card">
      <h2 id="formTitle">ğŸ’¬ Spieler Reflexion</h2>
      <label for="name" id="labelName">Name *</label>
      <input type="text" id="name" name="name" required />

      <label for="feeling" id="labelFeeling">ğŸ§  Wie hast du dich gefÃ¼hlt?</label>
      <select id="feeling" name="feeling" required></select>

      <label for="energy" id="labelEnergy">âš¡ï¸ Energie-Level (1 = sehr mÃ¼de â€“ 10 = voller Power)</label>
      <select id="energy" name="energy" required></select>

      <label for="intensity" id="labelIntensity">ğŸ‹ï¸ IntensitÃ¤t Training/Spiel <small>(1 = locker â€“ 10 = top)</small></label>
      <select id="intensity" name="intensity" required></select>

      <label for="performance" id="labelPerformance">ğŸ¯ Eigene Leistung <small>(1 = ausbaufÃ¤hig â€“ 10 = top)</small></label>
      <select id="performance" name="performance" required></select>

      <label for="comment" id="labelComment">ğŸ“ Kommentar <small>(optional)</small></label>
      <textarea id="comment" name="comment" rows="2"></textarea>

      <button type="submit" id="submitBtn">Abschicken</button>
      <div id="message"></div>
    </form>
  </div>
  <section class="yellow-slogan" id="slogan">
    "OUR STRENGTH IS OUR UNITY!"
  </section>
  <footer>
    Â© 2025 EHC Biel-Bienne U18-Elit
  </footer>
  <script>
    // Sprachdaten:
    const translations = {
      de: {
        formTitle:"Spieler Reflexion",
        name:"Name *",
        feeling:"Wie hast du dich gefÃ¼hlt?",
        feelingOptions: [
          {value:"ğŸŸ¢ Top", text:"ğŸŸ¢ Top"},
          {value:"ğŸŸ¡ Okay", text:"ğŸŸ¡ Okay"},
          {value:"ğŸ”´ Tired", text:"ğŸ”´ MÃ¼de"}
        ],
        energy:"âš¡ï¸ Energie-Level",
        energyOptions: [
          {value:"1", text:"1 â€“ ğŸ˜´ sehr mÃ¼de"},
          {value:"2", text:"2"},
          {value:"3", text:"3"},
          {value:"4", text:"4"},
          {value:"5", text:"5"},
          {value:"6", text:"6"},
          {value:"7", text:"7"},
          {value:"8", text:"8"},
          {value:"9", text:"9"},
          {value:"10", text:"10 â€“ âš¡ï¸ voller Power"}
        ],
        intensity:"ğŸ‹ï¸ IntensitÃ¤t Training/Spiel",
        intensityOptions: [
          {value:"1", text:"1 â€“ sehr locker"},
          {value:"2", text:"2"},
          {value:"3", text:"3"},
          {value:"4", text:"4"},
          {value:"5", text:"5 â€“ mittel"},
          {value:"6", text:"6"},
          {value:"7", text:"7"},
          {value:"8", text:"8"},
          {value:"9", text:"9"},
          {value:"10", text:"10 â€“ maximal"}
        ],
        performance:"ğŸ¯ Eigene Leistung",
        performanceOptions: [
          {value:"1", text:"1 â€“ ausbaufÃ¤hig"},
          {value:"2", text:"2 â€“ mÃ¤ssig"},
          {value:"3", text:"3 â€“ okay"},
          {value:"4", text:"4 â€“ solide"},
          {value:"5", text:"5 â€“ gut"},
          {value:"6", text:"6 â€“ sehr gut"},
          {value:"7", text:"7 â€“ stark"},
          {value:"8", text:"8 â€“ super"},
          {value:"9", text:"9 â€“ fast optimal"},
          {value:"10", text:"10 â€“ top"}
        ],
        comment:"ğŸ“ Kommentar <small>(optional)</small>",
        submit:"Abschicken",
        msg_success:'âœ… Feedback Ã¼bermittelt!',
        msg_error:'âŒ Verbindung fehlgeschlagen.',
        slogan:'"OUR STRENGTH IS OUR UNITY!"'
      },
      en: {
        formTitle:"Player Reflection",
        name:"Name *",
        feeling:"How did you feel today?",
        feelingOptions: [
          {value:"ğŸŸ¢ Top", text:"ğŸŸ¢ Top"},
          {value:"ğŸŸ¡ Okay", text:"ğŸŸ¡ Okay"},
          {value:"ğŸ”´ Tired", text:"ğŸ”´ Tired"}
        ],
        energy:"âš¡ï¸ Energy level",
        energyOptions: [
          {value:"1", text:"1 â€“ ğŸ˜´ very tired"},
          {value:"2", text:"2"},
          {value:"3", text:"3"},
          {value:"4", text:"4"},
          {value:"5", text:"5"},
          {value:"6", text:"6"},
          {value:"7", text:"7"},
          {value:"8", text:"8"},
          {value:"9", text:"9"},
          {value:"10", text:"10 â€“ âš¡ï¸ full power"}
        ],
        intensity:"ğŸ‹ï¸ Training/Game Intensity",
        intensityOptions: [
          {value:"1", text:"1 â€“ very easy"},
          {value:"2", text:"2"},
          {value:"3", text:"3"},
          {value:"4", text:"4"},
          {value:"5", text:"5 â€“ medium"},
          {value:"6", text:"6"},
          {value:"7", text:"7"},
          {value:"8", text:"8"},
          {value:"9", text:"9"},
          {value:"10", text:"10 â€“ maximal"}
        ],
        performance:"ğŸ¯ Own Performance",
        performanceOptions: [
          {value:"1", text:"1 â€“ needs work"},
          {value:"2", text:"2 â€“ fair"},
          {value:"3", text:"3 â€“ okay"},
          {value:"4", text:"4 â€“ solid"},
          {value:"5", text:"5 â€“ good"},
          {value:"6", text:"6 â€“ very good"},
          {value:"7", text:"7 â€“ strong"},
          {value:"8", text:"8 â€“ super"},
          {value:"9", text:"9 â€“ almost perfect"},
          {value:"10", text:"10 â€“ top"}
        ],
        comment:"ğŸ“ Comment <small>(optional)</small>",
        submit:"Submit",
        msg_success:'âœ… Feedback submitted!',
        msg_error:'âŒ Connection failed. Please try again.',
        slogan:'"OUR STRENGTH IS OUR UNITY!"'
      },
      fr: {
        formTitle:"RÃ©flexion Joueur",
        name:"Nom *",
        feeling:"Comment t'es-tu senti aujourd'hui ?",
        feelingOptions: [
          {value:"ğŸŸ¢ Top", text:"ğŸŸ¢ Top"},
          {value:"ğŸŸ¡ Okay", text:"ğŸŸ¡ Bien"},
          {value:"ğŸ”´ Tired", text:"ğŸ”´ FatiguÃ©"}
        ],
        energy:"âš¡ï¸ Niveau d'Ã©nergie",
        energyOptions: [
          {value:"1", text:"1 â€“ ğŸ˜´ trÃ¨s fatiguÃ©"},
          {value:"2", text:"2"},
          {value:"3", text:"3"},
          {value:"4", text:"4"},
          {value:"5", text:"5"},
          {value:"6", text:"6"},
          {value:"7", text:"7"},
          {value:"8", text:"8"},
          {value:"9", text:"9"},
          {value:"10", text:"10 â€“ âš¡ï¸ plein d'Ã©nergie"}
        ],
        intensity:"ğŸ‹ï¸ IntensitÃ© EntraÃ®nement/Match",
        intensityOptions: [
          {value:"1", text:"1 â€“ trÃ¨s facile"},
          {value:"2", text:"2"},
          {value:"3", text:"3"},
          {value:"4", text:"4"},
          {value:"5", text:"5 â€“ moyen"},
          {value:"6", text:"6"},
          {value:"7", text:"7"},
          {value:"8", text:"8"},
          {value:"9", text:"9"},
          {value:"10", text:"10 â€“ maximale"}
        ],
        performance:"ğŸ¯ Performance personnelle",
        performanceOptions: [
          {value:"1", text:"1 â€“ Ã  amÃ©liorer"},
          {value:"2", text:"2 â€“ passable"},
          {value:"3", text:"3 â€“ ok"},
          {value:"4", text:"4 â€“ solide"},
          {value:"5", text:"5 â€“ bien"},
          {value:"6", text:"6 â€“ trÃ¨s bien"},
          {value:"7", text:"7 â€“ fort"},
          {value:"8", text:"8 â€“ super"},
          {value:"9", text:"9 â€“ presque parfait"},
          {value:"10", text:"10 â€“ top"}
        ],
        comment:"ğŸ“ Commentaire <small>(optionnel)</small>",
        submit:"Envoyer",
        msg_success:'âœ… Feedback envoyÃ©!',
        msg_error:'âŒ Connexion Ã©chouÃ©e.',
        slogan:'"NOTRE FORCE EST NOTRE UNITÃ‰ !"'
      }
    };

    let currentLang = localStorage.getItem('feedback_lang') || 'de';

    function changeLanguage(lang) {
      currentLang = lang;
      localStorage.setItem('feedback_lang', lang);
      document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
      document.getElementById('btn-' + lang).classList.add('active');
      const t = translations[lang];

      document.getElementById('formTitle').textContent = t.formTitle;
      document.getElementById('labelName').textContent = t.name;
      document.getElementById('labelFeeling').textContent = (t.feelingIcon || "ğŸ§ ") + " " + t.feeling;

      const selFeeling = document.getElementById('feeling');
      selFeeling.innerHTML = "";
      t.feelingOptions.forEach(opt => {
        const o = document.createElement('option');
        o.value = opt.value;
        o.textContent = opt.text;
        selFeeling.appendChild(o);
      });

      document.getElementById('labelEnergy').innerHTML = t.energy;
      const selEnergy = document.getElementById('energy');
      selEnergy.innerHTML = "";
      t.energyOptions.forEach(opt => {
        const o = document.createElement('option');
        o.value = opt.value;
        o.textContent = opt.text;
        selEnergy.appendChild(o);
      });

      document.getElementById('labelIntensity').innerHTML = t.intensity;
      const selIntensity = document.getElementById('intensity');
      selIntensity.innerHTML = "";
      t.intensityOptions.forEach(opt => {
        const o = document.createElement('option');
        o.value = opt.value;
        o.textContent = opt.text;
        selIntensity.appendChild(o);
      });

      document.getElementById('labelPerformance').innerHTML = t.performance;
      const selPerformance = document.getElementById('performance');
      selPerformance.innerHTML = "";
      t.performanceOptions.forEach(opt => {
        const o = document.createElement('option');
        o.value = opt.value;
        o.textContent = opt.text;
        selPerformance.appendChild(o);
      });

      document.getElementById('labelComment').innerHTML = t.comment;
      document.getElementById('submitBtn').textContent = t.submit;
      document.getElementById('slogan').textContent = t.slogan;
    }
    window.addEventListener('DOMContentLoaded', () => {
      // Set up language button click events
      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const lang = this.id.replace('btn-', '');
          changeLanguage(lang);
        });
      });
      changeLanguage(currentLang);
    });

    const form = document.getElementById('feedbackForm');
    const message = document.getElementById('message');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      message.textContent = '';
      const t = translations[currentLang];
      const data = {
        name: form.name.value,
        feeling: form.feeling.value,
        energy: form.energy.value,
        intensity: form.intensity.value,
        performance: form.performance.value,
        comment: form.comment.value
      };
      try {
        await fetch('https://script.google.com/macros/s/AKfycbwL1IwFze4LFJ5vllA-s7MpnG_PTSJUMXTI-BV5Q0d54tjrscXx710xr672w3t0-ikPmw/exec', {
          method: 'POST',
          mode: 'no-cors',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });
        message.className = "success";
        message.textContent = t.msg_success;
        form.reset();
      } catch (err) {
        message.className = "error";
        message.textContent = t.msg_error;
      }
    });
  </script>
</body>
</html>